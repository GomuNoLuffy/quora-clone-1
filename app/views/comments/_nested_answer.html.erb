<li data-id="<%= answer.id %>">
	<%= link_to answer.answerer.username, user_url(answer.answerer) %>
	<br />
	<%= answer.votes.count %> votes<br />
	<%= answer.body %>
	<% if answer.answerer_id == current_user.id %>
		<%= link_to "Delete Comment", 
			comment_url(answer), 
			:method => :delete,
			:remote => true,
			:html => { :class => "delete_comment"} %>
	<% end %>
	<br />
	<ul class="child_comments">
		<% if answer.child_comments %>
			<% answer.child_comments.each do |comment| %>
				<%= render :partial => "comments/nested_answer", 
					:locals => { :answer => comment, :comment => @comment } %>
			<% end %>
		<% end %>
	</ul>
</li>

<a class="show_comment">Comment</a>
<%= form_for comment, 
	html: { class: "new_comment hidden" },
	:remote => true do |f| %>
		
	<%= f.text_field(:body) %>
	<%= f.hidden_field(:question_id, :value => @question.id) %>
	<%= f.hidden_field(:parent_comment_id, :value => answer.id) %>

	<div id="leave_reply"><%= f.submit "Comment" %></div>
<% end %>

<script>
	$("#leave_reply").on("ajax:success", function(event, data){
		console.log(data)
		$(".child_comments").append(data);
	})
	
	$(".delete_comment").on("ajax:success", function(event){
		$(this).closest("li").remove();
	})
</script>